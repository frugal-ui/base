FS = require 'fs'
_FSCFG =
	encoding: 'utf8'
_JOINING_STR = ',\n\t'

# basic
listText = FS.readFileSync 'property-list.txt', _FSCFG

checkIfNotEmpty = (str) ->
	str != ''

propertyNames = listText
	.split '\n'
	.filter checkIfNotEmpty

# array
addQuotes = (str) ->
	"'#{str}'"

properties = propertyNames
	.map addQuotes
	.join _JOINING_STR

# map
toMapEntry = (str) ->
	"#{str}: '#{str}'"

mapEntries = propertyNames
	.map toMapEntry
	.join _JOINING_STR

# prefixed
prefix = (str) ->
	"css#{str[0].toUpperCase() + str.substring(1)}"

prefixedEntries = propertyNames
	.map toMapEntry
	.map prefix
	.join _JOINING_STR

finalCode =
	"""
export const CSSPropertyNames = [ 
	#{properties}
]

export interface CSSPropertyNameMap {
	#{mapEntries}
}

export const PrefixedCSSPropertyNames = {
	#{prefixedEntries}
}
"""

FS.writeFileSync 'index.ts', finalCode, _FSCFG
